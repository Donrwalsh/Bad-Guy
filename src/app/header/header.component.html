<div class="header">
    <div class="resources">
        <i class="henchmen fa fa-users" aria-hidden="true"></i>
        <p class="henchmen-readout">{{_player.currentHenchmen}}/{{_player.henchmenCapacity}}</p>
    </div>
    <div>
        <h1 class="title">Bad Guy</h1>
    </div>
    <div class="scheme" (mouseenter)="showSchemeFlyout = true;" (mouseleave)="showSchemeFlyout = false;">
        <div *ngIf="_player.earningSchemePoints">
            <h5 class="status-text">Scheming</h5>
            <div style="margin-top:.25em;text-align: center; display:inline-block; width:100%;position:relative;height:2em;border-radius:5px;"
                [ngStyle]="{'border' : '1px solid ' + _player.currentScheme.color }">
                <div style="position:absolute;top:0px;left:0px;height:2em;" [ngStyle]="{'width': _player.currentSchemePercentage + '%', 'background-color' : _player.currentScheme.color}"></div>
                <i class="fa {{_player.currentScheme.fa}}" style="position:relative;font-size: 1.5em;padding-top:.125em;" aria-hidden="true"></i>

            </div>
        </div>
        <div *ngIf="!_player.earningSchemePoints">
            <h5 class="status-text">Not Scheming</h5>
            <i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>
        </div>
    </div>
</div>

<div *ngIf="_player.earningSchemePoints;" [@popOverState]="stateName" style="text-align:center;width:25%;background-color:pink;position:absolute;right:0;"
    [ngStyle]="{'background-color' : _player.currentScheme.flyout_color}">
    <div style="margin:.5em;">
        <i class="fa {{_player.currentScheme.fa}}" style="position:relative;" aria-hidden="true"></i>
        <h4 style="margin:.1em;display:inline;">{{_player.currentScheme.name}} {{_player.currentSchemeLevel > 1 ? _player.currentSchemeLevel : ''}}</h4>
        <br>
        <h5 style="text-align:left;margin:0;padding-top:1em;">Benefit: </h5>
        <h6 style="text-align:left;margin:0;">{{_player.currentScheme.description[_player.currentSchemeLevel-1]}} </h6>
        <h6 style="text-align:left;margin:.1em;padding-top:1em;font-style:italic;">{{_player.currentScheme.flavor[_player.currentSchemeLevel-1]}}</h6>
        <p style="margin:0;"> {{_player.currentSchemeEXP}}/{{_player.currentSchemeEXPTarget}}</p>
    </div>

</div>