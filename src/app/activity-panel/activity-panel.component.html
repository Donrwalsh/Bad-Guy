<div class="activity-panel" *ngIf="!_base.INITIAL_LOAD_RECRUITS">
    <div class="henchmen-column">
        <p class="title" *ngIf="_training.areAnyUnlocked()">Training</p>
        <div *ngFor="let train of _base.trains; index as i">
            <div class="left-padding" *ngIf="_training.isUnlocked(train)"></div>
            <div class="add-block" *ngIf="_training.isUnlocked(train)">
                <i class="add-to-queue-icon fa fa-plus" aria-hidden="true" (click)="_training.queueTrain(train)" [ngStyle]="addToQueueIconStyle(train)"></i>
            </div>
            <div *ngIf="_training.isUnlocked(train)" class="progress-with-add">
                <div [ngClass]="containerClass(i, 'training')" (click)="_training.collectTrain(train)" [ngStyle]="containerStyle(i, 'training')">
                    <div [ngClass]="progressBarClass(i, 'training')" [ngStyle]="styleProgressBar(i, 'training')"></div>
                    <p [ngClass]="displayClass(i, 'training')">
                        <i class="generation-icon fa faa-slow faa-flash animated {{train.fa}}" aria-hidden="true" [ngStyle]="collectingIconStyle(i, 'training')"></i>
                        {{train.name}}
                        <i class="collection-icon fa faa-slow animated {{train.fa}}" aria-hidden="true" [ngStyle]="collectionIconStyle(i, 'training')"
                            [ngClass]="collectionIcon(i, 'training')"></i>
                    </p>
                </div>
            </div>
        </div>
        <p class="title" *ngIf="_recruiting.areAnyUnlocked()">Recruitment</p>
        <div *ngFor="let recruit of _base.recruits; index as i">
            <div class="left-padding"></div>
            <div *ngIf="_recruiting.isUnlocked(recruit)" class="progress-no-add">
                <div [ngClass]="containerClass(i, 'recruiting')" (click)="_recruiting.collectRecruit(recruit)" [ngStyle]="containerStyle(i, 'recruiting')">
                    <div [ngClass]="progressBarClass(i, 'recruiting')" [ngStyle]="styleProgressBar(i, 'recruiting')"></div>
                    <p [ngClass]="displayClass(i, 'recruiting')" class="help-wanted-display">
                        <i class="generation-icon fa faa-slow faa-flash animated {{recruit.fa}}" aria-hidden="true" [ngStyle]="collectingIconStyle(i, 'recruiting')"></i>
                        {{recruit.name}}
                        <i class="collection-icon fa faa-slow animated {{recruit.fa}}" aria-hidden="true" [ngStyle]="collectionIconStyle(i, 'recruiting')"
                            [ngClass]="collectionIcon(i, 'recruiting')"></i>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="operations-column" *ngIf="_operating.areAnyUnlocked()">
        <div class="padding-short"></div>
        <div class="operation-tab routine" [ngStyle]="{'visibility': _operating.areRoutineOpsUnlocked() ? 'initial' : 'hidden'}">
            <i class="fa fa-certificate tab-icon" aria-hidden="true"></i>
        </div>
        <div class="operation-tab campaign" [ngStyle]="{'visibility': _operating.areCampaignOpsUnlocked() ? 'initial' : 'hidden'}">
            <i class="fa fa-book tab-icon" aria-hidden="true"></i>
        </div>
        <div class="operation-tab ascension" [ngStyle]="{'visibility': _operating.areAscensionOpsUnlocked() ? 'initial' : 'hidden'}">
            <i class="fa fa-rocket tab-icon" aria-hidden="true"></i>
        </div>
        <div class="padding-short"></div>
        
        <div class="divider-5" *ngIf="_player.schemes[6]['level'] > 0"></div>
        <div class="routine-row" *ngIf="_player.schemes[6]['level'] > 0">
            <div class="column" *ngFor="let heist of _player.operating | slice: 0:5; let i = index" (click)="_operating.operationPreview(i)"
                [ngStyle]="{'cursor': heist['available'] && _operating.isUnlockedById(i) ? 'pointer' : 'initial' }">
                <i class="fa" aria-hidden="true" [ngClass]="operationIconClass(i)" [ngStyle]="{'color': _operating.getFaColorById(i)}"></i>
            </div>
        </div>
        <div class="divider-5" *ngIf="_player.schemes[6]['level'] > 0"></div>

        <div class="divider-5" *ngIf="_player.schemes[7]['level'] > 0"></div>
        <div class="routine-row" *ngIf="_player.schemes[7]['level'] > 0">
            <div class="column" *ngFor="let deal of _player.operating | slice: 5:10; let i = index" (click)="_operating.operationPreview(i+5)"
                [ngStyle]="{'cursor': deal['available'] && _operating.isUnlockedById(i+5) ? 'pointer' : 'initial' }">
                <i class="fa" aria-hidden="true" [ngClass]="operationIconClass(i+5)" [ngStyle]="{'color': _operating.getFaColorById(i+5)}"></i>
            </div>
        </div>
        <div class="divider-5" *ngIf="_player.schemes[7]['level'] > 0"></div>

        
        <div *ngIf="_operating.showPreview" class="operation-flyout">
            <div class="inner-content" [ngStyle]="{'color': _operating.getFaColorByRarity(_operating.previewOperation['rarity'])}">
                    <div class="operation-result" [ngStyle]="{'visibility': !_operating.operatingNow ? 'hidden' : 'initial'}">
                
                
                    <p class="report">
                        <i class="operation-icon fa fa-usd" aria-hidden="true" style="margin-right:.2rem;margin-top:.3rem;"></i>
                        {{_operating.previewOperation['name']}} was a {{_operating.operateReadout['result']}}</p>
                    <p *ngIf="_operating.operateReadout['lost'] > 0" style="margin-bottom:0;margin-right:.2rem;margin-top:.6rem;">{{_operating.operateReadout['lost']}}
                        <i class="flyout-icon fa fa-user" aria-hidden="true"></i> lost.</p>
                    <p *ngIf="_operating.operateReadout['earned'] > 0" style="margin-bottom:0;margin-right:.2rem;margin-top:.6rem;">{{_operating.operateReadout['earned']}}
                        <i class="flyout-icon fa fa-money" aria-hidden="true"></i> earned.</p>
                    <p *ngIf="_operating.operateReadout['notoriety'] > 0" style="margin-bottom:.5rem;margin-right:.2rem;margin-top:.6rem;">{{_operating.operateReadout['notoriety']}}
                        <i class="flyout-icon fa fa-exclamation-triangle" aria-hidden="true"></i> earned.</p>
                    <p (click)="_operating.closeCompleteOperation()" style="cursor: pointer;width:75%;margin:0 auto; margin-top: .5rem; border-radius: .5rem; border: 1px solid; display:inline-block;">{{_operating.operateReadout['result'] == 'success!' ? 'Excellent' : 'Curses!'}}</p>
                </div>


                <p class="operation-name" [ngStyle]="hideIfOperating()">
                    <i class="operation-icon fa" [ngClass]="previewOperationFa()" aria-hidden="true"></i>
                    {{_operating.previewOperation['name']}}
                </p>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-right" >Requires:</p></div>
                <div class="split" [ngStyle]="hideIfOperating()" >
                    <p class="flyout-left">{{_operating.previewOperation['henchmen']}}
                        <i class="flyout-icon fa fa-user" aria-hidden="true"></i>
                    </p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-right">Risk:</p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-left">{{_operating.previewOperationRiskDisplay()}}%</p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-right">Rewards:</p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-left">{{_operating.previewOperation['reward']}}
                        <i class="flyout-icon fa fa-money" aria-hidden="true"></i>
                    </p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-right">Success:</p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-left">{{_operating.previewOperation['success']*100}}%</p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-right">Notoriety:</p>
                </div>
                <div class="split" [ngStyle]="hideIfOperating()">
                    <p class="flyout-left">{{_operating.previewOperation['notoriety']}}
                        <i class="flyout-icon fa fa-exclamation-triangle" aria-hidden="true"></i>
                    </p>
                </div>
                <div [ngStyle]="hideIfOperating()">
                    <p class="operate-button left" [ngStyle]="operateButtonInPreviewStyle()" (click)="_operating.operate()"> Operate </p>
                    <p class="operate-button right" (click)="_operating.closeCompleteOperation()"> Abandon</p>
                </div>
            </div>
        </div>
        <div *ngFor="let Operating of _player.operating; index as i">
            <div *ngIf="_operating.isUnlockedById(i) && !_player.operating[i]['available']" style="width:90%;display:inline-block;margin-left:5%;margin-right:5%;">
                <div style="border: 1px solid #ffe6cc;margin-top: .5rem; width: 100%;height:1.2em;border-radius:0px 15px 15px 0px;position:relative;">
                    <div style="background-color:#ffe6cc;border-radius: 0px 1rem 1rem 0px;position: absolute;height: 1.2em;" [ngStyle]="{'width': this._operating.getPercentageById(i) + '%' }"></div>
                    <p style="color:black;font-size: .8em;width: 100%;margin-top: .1em;margin: 0;user-select: none;position: relative;">
                        <i class="generation-icon fa faa-slow faa-flash animated fa-usd" aria-hidden="true" style="margin-left:.5rem;margin-right:.5rem"></i>
                        Slot {{i+1}} Recharging
                    </p>
                </div>
            </div>
        </div>


    </div>

</div>