<div *ngIf="_scheming.schemes" class="scheme-panel">
    <div style="width:2.5%;height:50vh;float:left;"></div>
    <div class="select-bar">
        <div class="schemes select" (click)="_scheming.selected = 'scheme'; _scheming.showPreview = false;">
            <i class="fa fa-lightbulb-o" aria-hidden="true"></i>
        </div>
        <div class="hench select" (click)="_scheming.selected = 'hench'; _scheming.showPreview = false;">
            <i class="fa fa-user" aria-hidden="true"></i>
        </div>
        <div class="operate select" (click)="_scheming.selected = 'operate'; _scheming.showPreview = false;">
            <i class="fa fa-location-arrow" aria-hidden="true"></i>
        </div>
        <div class="lair select" (click)="_scheming.selected = 'lair'; _scheming.showPreview = false;">
            <i class="fa fa-home" aria-hidden="true"></i>
        </div>
    </div>
    <div class="scheme-area" *ngIf="_scheming.selected == 'scheme'">
        <div class="column">
            <p class="node" (click)="_scheming.schemePreview(0)">
                <i class="fa {{_scheming.schemes[0].fa}}" aria-hidden="true" [ngStyle]="{'color' : _scheming.canSchemeBeLearned(0) ? 'default' : 'grey' } " ></i>
            </p>
            <!--<p class="level">{{_scheming.getSchemeCurrentLevel(0)+1}}</p>-->
            <p class="node" (click)="_scheming.schemePreview(1)">
                <i class="fa {{_scheming.schemes[1].fa}}" aria-hidden="true"></i>
            </p>
            <!--<p class="level">{{_scheming.getSchemeCurrentLevel(1)+1}}</p>-->
            <p class="node" (click)="_scheming.schemePreview(2)">
                <i class="fa {{_scheming.schemes[2].fa}}" aria-hidden="true"></i>
            </p>
            <!--<p class="level">{{_scheming.getSchemeCurrentLevel(2)+1}}</p>-->
        </div>
        <div class="column"></div>
        <div class="column"></div>
        <div class="column"></div>
        <div class="column"></div>
    </div>
    <div class="hench-area" *ngIf="_scheming.selected == 'hench'">
        <div class="column">
            <p class="node" (click)="_scheming.schemePreview(3)">
                <i class="fa {{_scheming.schemes[3].fa}}" aria-hidden="true"></i>
            </p>
            <!--<p class="level">{{_scheming.getSchemeCurrentLevel(0)+1}}</p> -->
            <p class="node" (click)="_scheming.schemePreview(4)">
                <i class="fa {{_scheming.schemes[4].fa}}" aria-hidden="true"></i>
            </p>
            <!--<p class="level">{{_scheming.getSchemeCurrentLevel(1)+1}}</p> -->
            <p class="node" (click)="_scheming.schemePreview(5)">
                <i class="fa {{_scheming.schemes[5].fa}}" aria-hidden="true"></i>
            </p>
            <!--<p class="level">{{_scheming.getSchemeCurrentLevel(2)+1}}</p> -->
        </div>
        <div class="column"></div>
        <div class="column"></div>
        <div class="column"></div>
        <div class="column"></div>
    </div>
    <div class="operate-area" *ngIf="_scheming.selected == 'operate'">
        <div class="column">
            <p class="node" (click)="_scheming.schemePreview(6)">
                <i class="fa {{_scheming.schemes[6].fa}}" aria-hidden="true"></i>
            </p>
            <p class="node" (click)="_scheming.schemePreview(7)">
                <i class="fa {{_scheming.schemes[7].fa}}" aria-hidden="true"></i>
            </p>
            <p class="node" (click)="_scheming.schemePreview(8)">
                <i class="fa {{_scheming.schemes[8].fa}}" aria-hidden="true"></i>
            </p>
        </div>
        <div class="column"></div>
        <div class="column"></div>
        <div class="column"></div>
        <div class="column"></div>
    </div>
    <div class="lair-area" *ngIf="_scheming.selected == 'lair'"></div>
    <div *ngIf="_scheming.showPreview" class="scheme-flyout" [ngStyle]="{'background-color' : _scheming.previewScheme['flyout_color']}">
        <div class="inner-content">
            <i class="scheme-icon fa {{_scheming.previewScheme.fa}}" aria-hidden="true"></i>
            <p class="scheme-name">{{_scheming.previewScheme.name}} {{_scheming.previewSchemeLevel > 1 ? _scheming.previewSchemeLevel : ''}}</p>
                <p class="benefit-text">{{_scheming.previewSchemeDescription}} </p>
            <p *ngIf="_scheming.canSchemeBeLearned(_scheming.previewScheme['ref'])" class="flavor-text">{{_scheming.previewSchemeFlavor}}</p>
            <p *ngIf="!_scheming.canSchemeBeLearned(_scheming.previewScheme['ref'])" style="color:red" class="flavor-text">Lair Level 1 required.</p>
            <p class="scheme-exp"> {{_scheming.previewSchemeExp}}/{{_scheming.previewSchemeExpTarget}}</p>
            <p class="node" style="width:90%;margin-top:.5rem;font-family:'Prociono';border-radius:.5rem;font-size:1rem;height:1.3rem;" [ngStyle]="{'background-color' : _scheming.previewScheme['color']}"
                *ngIf="(_scheming.previewScheme['ref'] != _player.currentScheme['ref']) && _scheming.canSchemeBeLearned(_scheming.previewScheme['ref'])" (click)="_scheming.startSchemingPreview()">Scheme</p>
        </div>


    </div>

</div>